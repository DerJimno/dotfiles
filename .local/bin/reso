#!/usr/bin/env bash
eval $(xrandr | awk '
/ connected / {output=$1; found=1; next}
/^[ ]+[0-9]+x[0-9]+/ && found {
    split($0,a)
    res=a[1]
    rate=a[3]
    print "xrandr --output", output, "--mode", res, "--rate", rate
    exit
}')
